set-option -g default-command zsh
set -g mouse on

# remap prefix to Control + a
unbind C-b
set-option -g prefix C-a
bind C-a send-prefix

# Use vim keybindings in copy mode
setw -g mode-keys vi

set -g status-style "bg=#FF38C6,fg=#ffffff"    # bar background/foreground

bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi r send-keys -X rectangle-toggle

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Open new panes/windows in current directory
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

set -g @plugin 'tmux-plugins/tmux-yank'

# Claude Code popup (Escape to close, uses Sonnet)
bind j display-popup -d "#{pane_current_path}" -w 85% -h 80% "claude --model sonnet"
bind -T popup Escape detach-client
