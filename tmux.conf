set-option -g default-command zsh
set -g mouse on

# remap prefix to Control + a
unbind C-b
set-option -g prefix C-a
bind C-a send-prefix

# Use vim keybindings in copy mode
setw -g mode-keys vi

set -g status-style "bg=#313244,fg=#cdd6f4"    # catppuccin mocha surface0/text
set -g pane-border-style "fg=#9399b2"          # catppuccin mocha overlay2 (bright)
set -g pane-active-border-style "fg=#b4befe"   # catppuccin mocha lavender
set -g pane-border-lines double                # double-line borders
set -g pane-border-indicators off              # no indicators

bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi r send-keys -X rectangle-toggle

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Open new panes/windows in current directory
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

set -g @plugin 'tmux-plugins/tmux-yank'

# Claude Code popup (Escape to close, uses Sonnet)
bind j display-popup -d "#{pane_current_path}" -w 85% -h 80% "claude --model sonnet"
bind -T popup Escape detach-client
